(function(){var K=function(){function n(){}return n.prototype.track=function(t){var e=this;t.onSpeedKitLoaded(function(){e.sendData(t),e.sendOriginData(t)}),t.onDfDataReady(function(){return e.sendOriginData(t)}),window.addEventListener("pagehide",function(){return e.sendData(t)})},n.prototype.sendData=function(t){if(SpeedKit.dynamicBlocks){var e={start:t.calculateRelative(SpeedKit.dynamicBlocks.start),status:SpeedKit.dynamicBlocks.status,received:t.calculateRelative(SpeedKit.dynamicBlocks.received),complete:t.calculateRelative(SpeedKit.dynamicBlocks.complete),localBlocks:SpeedKit.dynamicBlocks.localBlocks,remoteBlocks:SpeedKit.dynamicBlocks.remoteBlocks,mergedBlocks:SpeedKit.dynamicBlocks.mergedBlocks,changeDetection:SpeedKit.dynamicBlocks.changeDetection};t.set("dynamicFetcher",e)}},n.prototype.sendOriginData=function(t){SpeedKit.dynamicBlocks&&(t.set("originTTFB",SpeedKit.dynamicBlocks.originTTFB,!1),t.setTiming("originResponseStart",SpeedKit.dynamicBlocks.originResponseStart,!1))},n}();var I;(function(n){n.SNIPPET="snippet",n.CONFIG="skConfig",n.RUMPLUGIN="rum",n.JSTRACKINGPLUGIN="js",n.DFCONFIG="dfConfig",n.MERGE="merge",n.CHANGEDETECTION="cd",n.DYNAMICFETCHER="df",n.MAINNOTMERGED="mainNotMerged"})(I||(I={}));var N=function(){function n(t){this.key="jsErrors",this.counter=0,this.errors={},this.options=t}return n.prototype.on=function(t,e){(this.options&&this.options.afterDCL?e.onDOMInteractive:function(r){return r()})(function(){window.addEventListener("error",function(r){var i=n.errorEventToError(r);i&&t(i)}),window.addEventListener("unhandledrejection",function(r){var i=n.rejectionEventToError(r);i&&t(i)})})},n.prototype.append=function(t){var e=t.stackTrace&&t.stackTrace.split("\n")[0];return this.options&&this.options.maxPerPi&&this.counter>=this.options.maxPerPi||this.errors[e]?null:(this.errors[e]=!0,this.counter+=1,t)},n.errorEventToError=function(t){return t.error?{message:t.error.message,stackTrace:t.error.stack,timestamp:Date.now(),type:I.JSTRACKINGPLUGIN}:null},n.rejectionEventToError=function(t){var e=t.reason instanceof Error;return{message:e?t.reason.message:JSON.stringify(t.reason),stackTrace:e?t.reason.stack:null,timestamp:Date.now(),type:I.JSTRACKINGPLUGIN}},n}();var h,w,V,b,O,j=-1,y=function(n){addEventListener("pageshow",function(t){t.persisted&&(j=t.timeStamp,n(t))},!0)},q=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},R=function(){var n=q();return n&&n.activationStart||0},v=function(n,t){var e=q(),r="navigate";return j>=0?r="back-forward-cache":e&&(r=document.prerendering||R()>0?"prerender":document.wasDiscarded?"restore":e.type.replace(/_/g,"-")),{name:n,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},T=function(n,t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(n)){var r=new PerformanceObserver(function(i){Promise.resolve().then(function(){t(i.getEntries())})});return r.observe(Object.assign({type:n,buffered:!0},e||{})),r}}catch(i){}},D=function(n,t){var e=function r(i){i.type!=="pagehide"&&document.visibilityState!=="hidden"||(n(i),t&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)},m=function(n,t,e,r){var i,a;return function(o){t.value>=0&&(o||r)&&((a=t.value-(i||0))||i===void 0)&&(i=t.value,t.delta=a,t.rating=function(c,s){return c>s[1]?"poor":c>s[0]?"needs-improvement":"good"}(t.value,e),n(t))}},M=function(n){requestAnimationFrame(function(){return requestAnimationFrame(function(){return n()})})},k=function(n){document.prerendering?addEventListener("prerenderingchange",function(){return n()},!0):n()},g=-1,x=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},L=function(n){document.visibilityState==="hidden"&&g>-1&&(g=n.type==="visibilitychange"?n.timeStamp:0,et())},G=function(){addEventListener("visibilitychange",L,!0),addEventListener("prerenderingchange",L,!0)},et=function(){removeEventListener("visibilitychange",L,!0),removeEventListener("prerenderingchange",L,!0)},B=function(){return g<0&&(g=x(),G(),y(function(){setTimeout(function(){g=x(),G()},0)})),{get firstHiddenTime(){return g}}},U=function(n,t){t=t||{},k(function(){var e,r=[1800,3e3],i=B(),a=v("FCP"),o=T("paint",function(c){c.forEach(function(s){s.name==="first-contentful-paint"&&(o.disconnect(),s.startTime<i.firstHiddenTime&&(a.value=Math.max(s.startTime-R(),0),a.entries.push(s),e(!0)))})});o&&(e=m(n,a,r,t.reportAllChanges),y(function(c){a=v("FCP"),e=m(n,a,r,t.reportAllChanges),M(function(){a.value=performance.now()-c.timeStamp,e(!0)})}))})},nt=function(n,t){t=t||{},k(function(){var e,r=[.1,.25],i=v("CLS"),a=-1,o=0,c=[],s=function(d){a>-1&&n(d)},u=function(d){d.forEach(function(l){if(!l.hadRecentInput){var C=c[0],tt=c[c.length-1];o&&l.startTime-tt.startTime<1e3&&l.startTime-C.startTime<5e3?(o+=l.value,c.push(l)):(o=l.value,c=[l]),o>i.value&&(i.value=o,i.entries=c,e())}})},p=T("layout-shift",u);p&&(e=m(s,i,r,t.reportAllChanges),U(function(d){a=d.value,i.value<0&&(i.value=0,e())}),D(function(){u(p.takeRecords()),e(!0)}),y(function(){o=0,a=-1,i=v("CLS",0),e=m(s,i,r,t.reportAllChanges),M(function(){return e()})}))})},E={passive:!0,capture:!0},rt=new Date,W=function(n,t){h||(h=t,w=n,V=new Date,_(removeEventListener),Y())},Y=function(){if(w>=0&&w<V-rt){var n={entryType:"first-input",name:h.type,target:h.target,cancelable:h.cancelable,startTime:h.timeStamp,processingStart:h.timeStamp+w};b.forEach(function(t){t(n)}),b=[]}},it=function(n){if(n.cancelable){var t=(n.timeStamp>1e12?new Date:performance.now())-n.timeStamp;n.type=="pointerdown"?function(e,r){var i=function(){W(e,r),o()},a=function(){o()},o=function(){removeEventListener("pointerup",i,E),removeEventListener("pointercancel",a,E)};addEventListener("pointerup",i,E),addEventListener("pointercancel",a,E)}(t,n):W(t,n)}},_=function(n){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return n(t,it,E)})},at=function(n,t){t=t||{},k(function(){var e,r=[100,300],i=B(),a=v("FID"),o=function(u){u.startTime<i.firstHiddenTime&&(a.value=u.processingStart-u.startTime,a.entries.push(u),e(!0))},c=function(u){u.forEach(o)},s=T("first-input",c);e=m(n,a,r,t.reportAllChanges),s&&D(function(){c(s.takeRecords()),s.disconnect()},!0),s&&y(function(){var u;a=v("FID"),e=m(n,a,r,t.reportAllChanges),b=[],w=-1,h=null,_(addEventListener),u=o,b.push(u),Y()})})},z=0,P=1/0,S=0,ot=function(n){n.forEach(function(t){t.interactionId&&(P=Math.min(P,t.interactionId),S=Math.max(S,t.interactionId),z=S?(S-P)/7+1:0)})},Q=function(){return O?z:performance.interactionCount||0},ct=function(){"interactionCount"in performance||O||(O=T("event",ot,{type:"event",buffered:!0,durationThreshold:0}))},X=0,H=function(){return Q()-X},f=[],F={},J=function(n){var t=f[f.length-1],e=F[n.interactionId];if(e||f.length<10||n.duration>t.latency){if(e)e.entries.push(n),e.latency=Math.max(e.latency,n.duration);else{var r={id:n.interactionId,latency:n.duration,entries:[n]};F[r.id]=r,f.push(r)}f.sort(function(i,a){return a.latency-i.latency}),f.splice(10).forEach(function(i){delete F[i.id]})}},st=function(n,t){t=t||{},k(function(){var e=[200,500];ct();var r,i=v("INP"),a=function(c){c.forEach(function(p){p.interactionId&&J(p),p.entryType==="first-input"&&!f.some(function(d){return d.entries.some(function(l){return p.duration===l.duration&&p.startTime===l.startTime})})&&J(p)});var s,u=(s=Math.min(f.length-1,Math.floor(H()/50)),f[s]);u&&u.latency!==i.value&&(i.value=u.latency,i.entries=u.entries,r())},o=T("event",a,{durationThreshold:t.durationThreshold||40});r=m(n,i,e,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),D(function(){a(o.takeRecords()),i.value<0&&H()>0&&(i.value=0,i.entries=[]),r(!0)}),y(function(){f=[],X=Q(),i=v("INP"),r=m(n,i,e,t.reportAllChanges)}))})},A={},ut=function(n,t){t=t||{},k(function(){var e,r=[2500,4e3],i=B(),a=v("LCP"),o=function(u){var p=u[u.length-1];if(p){var d=Math.max(p.startTime-R(),0);d<i.firstHiddenTime&&(a.value=d,a.entries=[p],e())}},c=T("largest-contentful-paint",o);if(c){e=m(n,a,r,t.reportAllChanges);var s=function(){A[a.id]||(o(c.takeRecords()),c.disconnect(),A[a.id]=!0,e(!0))};["keydown","click"].forEach(function(u){addEventListener(u,s,{once:!0,capture:!0})}),D(s,!0),y(function(u){a=v("LCP"),e=m(n,a,r,t.reportAllChanges),M(function(){a.value=performance.now()-u.timeStamp,A[a.id]=!0,e(!0)})})}})};function lt(){return!!document.querySelector(".speed-kit-dynamic-loading,.speed-kit-dynamic-loaded")}var Z=function(){function n(){var t=this;this.cls={name:"CLS",value:0,delta:0,id:"init",entries:[]};try{nt(function(e){return t.cls=e},{reportAllChanges:!0}),ut(function(e){return t.extractLcpData(e)},{reportAllChanges:!0}),st(function(e){return t.inp=e},{reportAllChanges:!0}),U(function(e){return t.fcp=e},{reportAllChanges:!0})}catch(e){}}return n.prototype.on=function(t,e){var r=this;e.onLeavePage(function(){t([r.lcp,r.cls,r.inp,r.fcp])}),["keydown","click"].forEach(function(i){addEventListener(i,function(a){a.isTrusted&&t([r.lcp])},{capture:!0})}),at(function(i){return t([i])})},n.prototype.extractLcpData=function(t){var e,r=t.entries.pop();try{e=r?this.getTrackableElement(r.element):void 0}catch(i){}this.lcp={element:e,name:"LCP",value:Math.round(t.value)}},n.prototype.track=function(t,e){for(var r=0,i=e;r<i.length;r++){var a=i[r];if(a)switch(a.name){case"LCP":this.trackLCP(t);break;case"CLS":this.trackCLS(t,a);break;case"FID":this.trackFID(t,a);break;case"INP":this.trackINP(t,a);break;case"FCP":this.trackFCP(t,a)}}},n.prototype.trackLCP=function(t){this.lcp&&(t.set("lcp",this.lcp.value),t.set("lcpElement",this.lcp.element))},n.prototype.getSelector=function(t,e){if(e===void 0&&(e=""),t.tagName==="BODY"||t.id)return[t.tagName,t.id].join("#")+" "+e;var r=Array.from(t.classList).map(function(i){return"."+i}).join("");return r=("> "+t.tagName+r+" "+e).trim(),t.parentElement?this.getSelector(t.parentElement,r):r},n.prototype.trackCLS=function(t,e){var r;t.set("cls",((r=this.cls)===null||r===void 0?void 0:r.value)||0),this.trackLargestCLS(t,e)},n.prototype.trackLargestCLS=function(t,e){var r=this.getLargestEntry(e.entries);if(r&&r.sources&&r.sources.length){var i=this.getLargestSource(r);if(i){var a=r.value,o=void 0;try{o=this.getTrackableElement(i.node)}catch(u){}var c={x:i.previousRect.x,y:i.previousRect.y,width:i.previousRect.width,height:i.previousRect.height},s={x:i.currentRect.x,y:i.currentRect.y,width:i.currentRect.width,height:i.currentRect.height};t.set("lCls",a),t.set("lClsElement",o),t.set("lClsShiftPrev",c),t.set("lClsShiftCur",s)}}},n.prototype.getTrackableElement=function(t){var e,r=t,i=this.getAttribute(t,"className"),a=r.for||this.getAttributeViaNode(t,"id"),o=r.formTarget||this.getAttribute(t,"target"),c=(t.attributes&&t.attributes.formaction?r.formAction:"")||r.action||this.getAttribute(t,"href")||r.src||r.code||r.codebase;return{selector:this.getSelector(t),trusted:!!lt()&&[0,void 0,!1].includes((e=SpeedKit==null?void 0:SpeedKit.dynamicBlocks)===null||e===void 0?void 0:e.complete),classes:i,id:a,target:o,url:c}},n.prototype.getAttributeViaNode=function(t,e){var r=t&&t.attributes;return e&&r&&r[e]?r[e].value:void 0},n.prototype.getAttribute=function(t,e){var r=t[e];return r&&typeof r.animVal=="string"?r.animVal:r},n.prototype.getLargestEntry=function(t){return t.filter(function(e){return!e.hadRecentInput}).reduce(function(e,r){return e&&e.value>r.value?e:r},null)},n.prototype.getLargestSource=function(t){return t.sources.reduce(function(e,r){return e.node&&e.previousRect.width*e.previousRect.height>r.previousRect.width*r.previousRect.height?e:r})},n.prototype.trackFID=function(t,e){var r=Math.round(e.value),i=e.entries.filter(function(a){return a.entryType==="first-input"})[0];t.set("fi",i?Math.round(i.startTime):void 0),t.set("fid",r)},n.prototype.trackINP=function(t,e){t.set("inp",Math.round(e.value))},n.prototype.trackFCP=function(t,e){t.set("fcp",Math.round(e.value))},n}();var $=function(){function n(t){this.data={},this.startTimestamp=Date.now(),this.listenerOpts={passive:!0,capture:!0},this.onlyFallback=!1,this.onlyFallback=(t==null?void 0:t.onlyFallback)||!1}return n.prototype.track=function(t){this.controller=t,this.listenScrollEvent();var e=this.isPerformanceObserverSupported();if(!e||!this.onlyFallback)if(e)this.listenWithPerformanceObserver();else try{this.listenForInputEvents()}catch(r){}},n.prototype.listenScrollEvent=function(){var t=this,e=function(r){try{if(window.removeEventListener("scroll",e),t.data.firstInteractionTime)return;t.data.firstInteractionTime=t.calculateFirstInteractionTime(r.timeStamp),t.executeTracking()}catch(i){}};window.addEventListener("scroll",e)},n.prototype.isPerformanceObserverSupported=function(){return typeof PerformanceObserver!="undefined"&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.indexOf("first-input")>=0},n.prototype.calculateInputDelay=function(t){return(t.timeStamp>1e12?Date.now():performance.now())-t.timeStamp},n.prototype.calculateFirstInteractionTime=function(t){return t>1e12?t-performance.timing.navigationStart:t},n.prototype.listenWithPerformanceObserver=function(){var t=this;new PerformanceObserver(function(e){var r=e.getEntries(),i=r[r.length-1],a=i.processingStart,o=i.startTime;t.data.firstInputDelay=a-o,t.data.firstInputTime=t.calculateFirstInteractionTime(o),t.data.firstInteractionTime||(t.data.firstInteractionTime=t.data.firstInputTime),t.executeTracking()}).observe({type:"first-input",buffered:!0})},n.prototype.executeTracking=function(){this.controller&&(this.controller.set("firstInputDelay",this.data.firstInputDelay!==void 0?Math.round(this.data.firstInputDelay):void 0),this.controller.set("firstInput",this.data.firstInputTime?Math.round(this.data.firstInputTime):void 0),this.controller.set("firstInteraction",this.data.firstInteractionTime?Math.round(this.data.firstInteractionTime):void 0))},n.prototype.listenForInputEvents=function(){this.eachEventType(addEventListener)},n.prototype.removeInputEventListeners=function(){this.eachEventType(removeEventListener)},n.prototype.calculateFirstInteractionData=function(t){this.data.firstInputDelay!==void 0||this.data.firstInputTime||(this.data.firstInputDelay=this.calculateInputDelay(t),this.data.firstInputTime=this.calculateFirstInteractionTime(t.timeStamp),this.data.firstInteractionTime||(this.data.firstInteractionTime=this.data.firstInputTime),this.removeInputEventListeners(),this.notifyFirstInputDelayIfValid())},n.prototype.notifyFirstInputDelayIfValid=function(){this.data.firstInputTime&&this.data.firstInputDelay!==void 0&&this.data.firstInputDelay>=0&&this.data.firstInputDelay<Date.now()-this.startTimestamp&&this.executeTracking()},n.prototype.onPointerDown=function(t){var e=this,r=function(){e.calculateFirstInteractionData(t),a()},i=function(){a()},a=function(){try{removeEventListener("pointerup",r,e.listenerOpts),removeEventListener("pointercancel",i,e.listenerOpts)}catch(o){}};addEventListener("pointerup",r,this.listenerOpts),addEventListener("pointercancel",i,this.listenerOpts)},n.prototype.onInteraction=function(t){try{if(!t.cancelable||!t.isTrusted)return;if(t.type==="pointerdown")return this.onPointerDown(t);this.calculateFirstInteractionData(t)}catch(e){}},n.prototype.eachEventType=function(t){var e=this;["click","mousedown","keydown","touchstart","pointerdown"].forEach(function(r){return t(r,e.onInteraction.bind(e),e.listenerOpts)})},n}();(function(){if(window!==window.top)return;window.SpeedKit=window.SpeedKit||{};var n=!1;SpeedKit.rumPlugins=[new K,new N,new $({onlyFallback:!0}),new Z,{key:"pageType",type:"PiDimension",on:r,set:function(){var i=window.dataLayer,a=i.pages&&i.pages[0].page&&i.pages[0].page.attributes&&i.pages[0].page.attributes.template;if(a)return a.substring(a.lastIndexOf("/")+1)}},{type:"PiDimension",on:"domInteractive",track:function(i){var a=[],o=new PerformanceObserver(function(c){var s=c.getEntries();a=a.concat(s)});o.observe({type:"largest-contentful-paint",buffered:!0}),addEventListener("visibilitychange",function(){n||(i.trackCustomEvent("lcpCandidates",JSON.stringify(a)),n=!0)},!0)}},{key:"pageTypeEnabled",type:"PiDimension",on:"domInteractive",set:function(){var i=null;try{var a=!0;window.speedKit&&speedKit.enabledSites&&(a=speedKit.enabledSites.some(function(c){return c.pathname?c.pathname.some(function(s){return typeof s!="string"?s.test(location.pathname):location.pathname.indexOf(s)===0}):!1}));var o=!1;window.speedKit&&speedKit.disabledSites&&(o=speedKit.disabledSites.some(function(c){return c.pathname?c.pathname.some(function(s){return typeof s!="string"?s.test(location.pathname):location.pathname.indexOf(s)===0}):!1})),i=a&&!o?"true":"false"}catch(c){}return i}},{on:"domInteractive",track:function(i){if(!(SpeedKit.group==="B"||t()||!navigator.serviceWorker.controller)){var a=Array.from(document.querySelectorAll("a.cmp-modelnavigationcard--inner-anchor")).map(function(c){return c.href}).filter(function(c){return c.indexOf(location.pathname)===-1});if(!(!a||!a.length)){var o=a.map(function(c){return{url:c,initiatorType:"navigate"}});navigator.serviceWorker.controller.postMessage({type:"prewarm-fetch",data:o})}}}},{on:e,track:function(i){console.log("Activated "+location.href),i.trackCustomEvent("activation",location.href,Date.now())}}],window.location.host==="www.bmw.de"&&SpeedKit.rumPlugins.push({on:function(i,a){a.onDOMInteractive(function(){var o=!1,c=function(){o||(o=!0,setTimeout(i,1e3),["keydown","click","scroll"].forEach(function(s){window.removeEventListener(s,c)}))};["keydown","click","scroll"].forEach(function(s){window.addEventListener(s,c)})})},track:function(i){function a(p,d){var l=p.top,C=p.bottom;return l>=0&&C<=d}function o(p){var d=[];return Array.from(p).slice(0,20).forEach(function(l){l.naturalWidth!==0&&d.push({src:l.src,width:l.width,height:l.height,srcWidth:l.naturalWidth,srcHeight:l.naturalHeight,isAboveFold:a(l.getBoundingClientRect(),window.innerHeight)})}),d}var c=document.querySelectorAll('img[class*="cmp-cosy-img"], img[src*="-teaser"]'),s=o(c),u={width:window.innerWidth,height:window.innerHeight};i.trackCustomEvent("imageMetaData",JSON.stringify({userWindow:u,images:s}))}});function t(){return document.prerendering||performance.getEntriesByType("navigation")[0].activationStart>0}function e(i,a){var o=performance.getEntriesByType("navigation")[0].activationStart>0;if(o)return i(a);document.prerendering&&document.addEventListener("prerenderingchange",function(){return i(a)})}function r(i,a){a.onDOMInteractive(function(){function o(){var c=window.dataLayer;if(!c){setTimeout(o,500);return}i()}o()})}try{localStorage.removeItem("baqend-speedkit-secondary-config")}catch(i){}})();})();
(function(){(function(){var s=function(){var t=navigator.userAgent.toLowerCase(),a=t.indexOf("edge")>-1,l=!a&&t.indexOf("chrome")>-1,b=!l&&t.indexOf("safari")>-1;if(b){var m=t.match(/version\/([\d+\.]+)\s/i);if(m)return m[1]>="14"}return!0}(),i=["https://www.bmw.co.uk","https://www.bmw.de","https://www.bmw.at","https://www.bmw.ie","https://www.bmw.com.cy","https://www.bmw.mu","https://www.bmw.com.mt","https://www.bmw-m.com","https://www.bmw.co.jp","https://www.bmw.co.kr","https://www.bmw.ru","https://www.bmw.com.tr","https://www.bmw.com.mx","https://www.bmw.co.th","https://www.bmw.com.my","https://www.bmw.com.tw","https://www.bmw-voli.me","https://www.bmw.co.za","https://www.bmw.cl","https://www.bmw.co.id","https://www.bmw.ua","https://www.bmw.com.co","https://www.bmwhk.com","https://www.bmw.com.ar","https://www.bmw.co.il","https://www.bmw.com.sg","https://www.bmw.rs","https://www.bmw.ma","https://www.bmw.vn","https://www.bmw.com.ec","https://www.bmw.com.pe","https://www.bmw-egypt.com","https://www.bmw.com.ph","https://www.bmw.mq","https://www.bmw.lk","https://www.bmw.md","https://www.bmw.tm.dz","https://www.bmw.com.uy","https://www.bmw.com.mo","https://www.bmw.com.do","https://www.bmw.ba","https://www.bmw.hr","https://www.bmw.co.nz","https://www.bmw-me.com","https://www.bmw.co.cr","https://www.bmw.com.mk","https://www.bmw-tunisia.com","https://www.bmw.by","https://www.bmw-kz.com","https://www.bmw.com.py","https://www.bmw.com.pa","https://www.bmw.com.gt","https://www.bmw.es","https://www.bmw.gr","https://www.bmw.lt","https://www.bmw.ro","https://www.bmw.si","https://www.bmw.in","https://www.bmw.cz","https://www.bmw.pt","https://www.bmw.sk","https://www.bmw.com.bd","https://www.bmw.az","https://www.bmw.hn","https://www.bmw.com.bo","https://www.bmwjamaica.com","https://www.bmw.am","https://www.bmw.com.ge","https://www.bmw.cc","https://www.bmw.bm","https://www.bmw.pl","https://www.bmw.dk","https://www.bmw.fi","https://www.bmw.ca","https://www.bmw.it","https://www.bmw.ee","https://www.bmw.no","https://www.bmw.lv","https://www.bmw.se","https://www.bmw-tahiti.com","https://www.bmw.co.ao","https://www.bmw.tm","https://www.bmw.ci","https://www.bmw.fr","https://www.bmw.ch","https://www.bmw.lu","https://www.bmw.com.br","https://www.bmw.re","https://www.bmw.gp","https://www.bmw.bg","https://www.bmw.com.bn","https://www.bmw.tt","https://www.bmw.com.sv","https://www.bmw.nc","https://www.bmw.com.ky","https://www.bmw.co.ke","https://www.bmw.kg","https://www.bmw-nigeria.com","https://www.bmw-ghana.com","https://www.bmw.sn","https://www.bmwmyanmar.com","https://www.bmw.bb","https://www.bmw.uz","https://www.bmw.bs","https://www.bmw.lc","https://www.bmw-lao.la","https://www.bmw.cw","https://www.bmw.mn","https://www.bmw.sr","https://www.bmw-albania.com","https://www.bmw.com.kh","https://www.bmw.nl","https://www.bmw.be","https://www.bmw.hu","https://www.bmw-yemen.com","https://www.bmw.is","https://www.bmw.ly","https://m156.bmw-int5.com"];function w(){return i.some(function(t){return location.href.indexOf(t)>-1})}function c(){return e()?0:1}function o(){return e()?"0vs100_2023_02_21":"100"}function e(){return location.href.indexOf("https://m156.bmw-int5.com")>-1}function n(){if(location.href.indexOf("https://m156.bmw-int5.com")!==-1){var t=document.createElement("link");return t.rel="preconnect",t.href="https://bmwdev.scene7.com",document.head.appendChild(t),["https://m156.bmw-int5.com/etc.clientlibs/bmw-web/clientlibs/clientlib-dependencies.min.3b1ff8db48729def7240bb66113819d8.css","https://m156.bmw-int5.com/etc.clientlibs/bmw-web/clientlibs/clientlib-base.min.176e361791d93e711ef7f0edb9af7a57.css","https://m156.bmw-int5.com/etc.clientlibs/bmw-web/clientlibs/clientlib-components.min.d17e75ae1463005bc0043772b64c6c15.css","https://m156.bmw-int5.com/etc.clientlibs/bmw-web/clientlibs/clientlib-components.min.11467c7aa8498609a0119858a013036a.css","https://m156.bmw-int5.com/etc.clientlibs/bmw-web/clientlibs/clientlib-site/resources/fonts/BMWTypeNext-Regular.woff2","https://m156.bmw-int5.com/etc.clientlibs/bmw-web/components/page/v2/page/clientlibs.min.26788af76049ddfc747266d1f31f4f28.css"]}}window.speedKit={appName:"bmw",sw:"/wrapper-sw.js?r=837fe74b-5074-448e-b016-c9d080847f12&v=2.13.3",userAgentDetection:!1,rumTracking:w()&&window.activateSpeedKitRUM!==!1,split:c(),disabled:!w()||window.activateSpeedKit===!1,splitTestId:o(),precache:n(),enabledSites:[{pathname:[/\/index[\/.]/i,/\/home[\/.]/i,/\/topics[\/.]/i,/\/all-models[\/.]/i,/\/footer[\/.]/i,/\/models[\/.]/i,/\/fastlane[\/.]/i,/\/local-content[\/.]/i,"/de/neufahrzeuge","/de/neuwagensuche","/de/konfigurator","/de/landingpage/","/en/configurator","/fr/accueil","/fr/voiture-neuve","/fr/tous-les-modeles","/fr/gamme-bmw","/fr/configurateur.html","/ru/Online","/ru/general","/zh/news/","/zh/configurator","/ko/bmw-korea","/ko/discover","/ko/models","/ko/services","/tr/ssl/kampanya","/es/landing","/es/local","/es/modelos","/es/configurador","/es/integration/campana","/en/ssl/configurator","/th/ssl/configurator","/en/bmw-explore","/th/bmw-explore","/select-offers","/en_Za/integration/contact","/en/integration","/sr/ssl/Zakazivanje-serivsa.html","/es/landing-pages","/es/coches-bmw/","/es/informacion/","/es/configurator/","/es_ES/stocklocator.html","/es_ES/all-models/","/el_GR/configurator.html","/lt/konfiguratorius.html","/ro_RO/configurator.html","/sl/news-center","/pt_PT/configurator.html","/sk_SK/konfigurator.html","/pl/konfigurator.html","/APPS.html","/da/alle_modeller","/da/generelt","/da/byg-din-bmw.html","/fi/aiheet","/fi/rakenna-oma-bmw.html","/fi_FI/rakenna-oma-bmw.html","/fi/mallisto/","/it/gamma","/it_IT/configuratore.html","/et/configurator.html","/no_NO/bygg-din-bmw.html","/lv_LV/topics","/sv/bygg-din-bmw.html","/sv/alla-modeller","/sv/avdelning","/sv/sidfot","/de/bmw-neuwagen/","/de/bmw-neuwagen.html","/fidelidade","/nl/modellen.html","/nl/configurator.html","/nl/voorraad.html","/nl/specials","/nl_NL/specials","/nl/content/","/fr/configurateur.html","/hu/konfigurator.html","/hu_HU/konfigurator.html",/\/de\/dsx/i]}],disabledSites:[{pathname:[/\?speedkit=off/i,/dealer-locator.html/i,/MyAccount.html/i,/mybmw/i,/mein-bmw/i,/mybmw-dashboard/i,/my-bmw/i,/topics\/offers-and-services\/used-automobiles\/our-offers\.html/,/\/lt\/topics\/offers-and-services\/bmw-online-store.html/,/\/content\/forms/i,/forms\/zamow-jazde-probna\/tda\.html/,"/da/generelt/kontakt/","/da_DK/topics/kontakt/",/locator\.html/,"/fi_FI/topics/contact/","/fi/aiheet/yhteydenotto/","/fi_FI/footer/contact/","/fi/footer/yhteydenotto/","/es/index.html"]}],whitelist:[{host:["www.bmw.","www.bmw-m.","www.bmw-voli.me","www.bmwhk.com","www.bmw-egypt.com","www.bmw-me.com","www.bmw-tunisia.com","www.bmw-kz.com","www.bmwjamaica.com","www.bmw-tahiti.com","www.bmwmyanmar.com","www.bmw-ghana.com","www.bmw-nigeria.com","www.bmw-lao.la","www.bmw-albania.com","www.bmw-yemen.com","assets.adobedtm.com","amplify.outbrain.com","static.criteo.net","s.pinimg.com","snap.licdn.com","bmw.admo.tv","static.iadvize.com","static.bmw.1dmp.io","static.ads-twitter.com","apps.mypurecloud.de","d.line-scdn.net","cdn.smartnews-ads.com","m156.bmw-int5.com","bmwdev.scene7.com"],contentType:["script","font","style","image","navigate"]},{url:["cdn.rutarget.ru/static/tag/tag.js","mc.yandex.ru/metrika/tag.js"]}],blacklist:[{host:s?[]:["cosystatic.bmwgroup.com","cosy.bmwgroup.com"]},{host:["api.bmw.com","api-int.bmw.com","stocklocator-dealers.bmw.com","stocklocator-dealers.bmw-int.com","c2b-services.bmw.com","c2b-services-i.bmw.com"]},{pathname:[/login/i,/\/newsletteranmeldung/i,/checkout/i,/inzahlungnahme/i,/tradin/i,/forms/i,/video.js\/video-js.min.css/,/\/settings\/wcm\/designs\/digitals2\/static\.css/,"/inzahlungnahme/","/tradein","/libs/wcm/msm/content/touch-ui/authoring/editor.min.4117887ca0f80cf30f8b0733f367af43.css","/libs/wcm/designimporter/components/touch-ui/clientlibs/editor.min.6635a2bba6ff8cb80d66ce9ac1ad815e.css","/libs/social/integrations/livefyre/components/authorizablecomponent/clientlibs.min.bef9a2b3bfc121e9d3116ba2be989f47.css","/libs/foundation/components/form/actions/mail/clientlibs.min.61c284a8a0358337305c6c732561dc4b.css","/libs/dam/remoteassets/components/clientlibs.min.825d7f462a23d8aa3da061f2044afa08.css","/libs/dam/cfm/clientlibs/authoring.min.bcda9c34faf5a23a2273f8751b846770.css","/libs/cq/flow/components/control/split/clientlibs.min.e804d986d7b4431f17a8896976e95f0d.css","/libs/commerce/gui/components/common/assetpicker/clientlibs.min.645f48a5116fe643b2062c4f76b75d82.css","/libs/commerce/components/addtocartimage/clientlib-authoring.min.ced22610c2d571622ce7285ef3946c0d.css","/etc.clientlibs/digitals2/navigate/components/navigation/clientlibs-author.min.css","/etc.clientlibs/core/wcm/components/commons/editor/clientlibs/panelselect.min.css","/etc.clientlibs/business/dealerlocator/components/par/dealerlocator/author/granite/filterServices/clientlibs.min.prod2.1.20210827-103225.min.css","/etc.clientlibs/business/dealerlocator/components/par/dealerlocator/author/granite/filterAddress/clientlibs.min.prod2.1.20210827-103225.min.css","/etc/cloudsettings.kernel.js/libs/settings/cloudsettings/legacy/contexthub","/etc/clientlibs/digitals2/clientlib/js/app/partials/0-sub-elements/ds2-video-layer-link.min.20210317121531.min.js","/etc.clientlibs/clientlibs/digitals2/ltr+requests.min","/etc/clientlibs/digitals2/clientlib/js/app/ds2-visualizer.min","/etc.clientlibs/digitals2/topics/components/detailinformation/clientlibs.min",/\/fahrzeugsuche/,/\/lagerwagen/,/\/stock-results/,/\/stocklocator/]},{url:["www.googletagmanager.com/gtm.js","www.google.com","www.google-analytics.com","www.googletagmanager.com/gtag/js",/registration/i,/gcdm/i,/\.pdf/i,/[?&](formtype|token)=/i,/[?&](_=1\d{12})/,/[?&]clc=/,/\/override\.css/i,"stream.bmw","bmw.scene7.com","api.bmw.com",/facebook/,/assets.adobedtm.com/,/omtrdc/,/linkedin/,/pinterest/,/sslwidget.criteo/,/demdex/,/doubleclick/,/googleads/,/googleadservices/,/\/pagead\//,/nocache/,/messagebusdefinition/,"www.bmw.co.nz/h5vco/finance/apps/html5-bmw-app.css","www.bmw.in/h5vco/finance/apps/html5-bmw-app.css",/minidigital/,/c2b-localsearch/i,/services/i,/api/i,"m156.bmw-int5.com/content/dam/bmw/common/images/logo-icons/BMW/BMW_Grey-Colour_RGB.SVG.asset.1605107718514.SVG"]},{cookie:["speedkit=off"],contentType:["document"]},{host:["www.bmw.in"],pathname:["/etc.clientlibs/settings/wcm/designs/digitals2/resources.css"]}],stripQueryParams:[{params:["gclid","msclkid","utm_source","utm_campaign","utm_medium","utm_content","utm_term","utm-source","utm-campaign","utm-medium","utm-content","utm-term","gclsrc","fbclid","ds_rl","dclid","cjid","campaign","yclid","mkwid","ctid","ccid","tblci","DMKW","DMSKW","DMCOL","n_campaign_type","sc_src","sc_lid","sc_uid","sc_llid","sc_customer","nspid","ac_delivery_internal_name","ac_delivery_label","ac_campaign_internal_name","ac_campaign_label",/^nx$/,/^ny$/,/^tl$/,"clkt","guid","_adp_p_ad","_adp_p_agr","_adp_e","_adp_c","_adp_p_cp","_adp_p_dm","_adp_p_md","_adp_u","s_kwcid","ef_id",/_kis_cup_/,"icp","bid","cid","hemaid","hucid","_ga"]}]}})();})();
(function(){(function(h,v,E,a,ye,qt,Mt){"use strict";var F="baqend-speedkit",K=F+"-user-id",Q=F+"-session-id",ae=F+"-session-index",se=F+"-session-timestamp";function Se(e,t,n,i){return Promise.resolve(e).then(function(r){return new Promise(function(o,s){var c=r.transaction(t,n),f=Promise.resolve(i(c.objectStore(t)));c.oncomplete=function(){return f.then(o)},c.onabort=c.onerror=function(){return s(c.error)}})})}function be(e,t,n){return Se(e,t,"readwrite",n)}function ce(e,t){return t&&t!=="/"?""+(t.lastIndexOf("/")===t.length-1?t.substr(0,t.length-1):t)+((e.indexOf("/")===0?"":"/")+e):e}var ue=function(){function e(t){this.dbp=null,this.cacheName=ce(F,t),this.dbp=this.openDb()}return e.prototype.get=function(t){return(n=this.db(),i="baqend-speedkit-store",r=function(o){return o.get(t)},Se(n,i,"readonly",r)).then(function(o){return o.result||null});var n,i,r},e.prototype.set=function(t,n){return be(this.db(),"baqend-speedkit-store",function(i){return i.put(n,t)&&void 0})},e.prototype.clear=function(){return Promise.all([(t=this.db(),n="baqend-speedkit-store",be(t,n,function(i){return i.clear()}).then(function(){}))]).then(function(){});var t,n},e.prototype.disconnect=function(){var t=this;return this.dbp?this.dbp.then(function(n){t.dbp=null,n.close()}):Promise.resolve()},e.prototype.db=function(){return this.dbp||(this.dbp=this.openDb()),this.dbp},e.prototype.openDb=function(){var t=this,n=indexedDB.open(this.cacheName,1);return n.onupgradeneeded=function(i){var r=i.oldVersion,o=n.result;if(r<1){if(!o)return;try{o.createObjectStore("baqend-speedkit-store")}catch(s){}}},this.openRequest(n).then(function(i){return i.onclose=function(){t.dbp=null},i.onerror=function(){t.dbp=null},i.onversionchange=function(r){r.newVersion||(t.dbp=null,i.close())},i})},e.prototype.openRequest=function(t){return new Promise(function(n,i){t.onsuccess=function(){return n(t.result)},t.onerror=function(){return i(t.error)},t.onblocked=function(){return i(t.error)}})},e}();(function(){function e(){this.map=new Map}e.prototype.get=function(t){return Promise.resolve(this.map.get(t)||null)},e.prototype.set=function(t,n){return this.map.set(t,n),Promise.resolve()},e.prototype.clear=function(){return this.map.clear(),Promise.resolve()}})();function Z(e){h.readyState!=="complete"?window.addEventListener("load",function(){return e()}):e()}var et=1e5;function we(e,t){var n=function(c,f){f===void 0&&(f=et);var l=JSON.stringify(c),u=l.length;if(u<=f)return[c,l];var p=[],d=[];Object.keys(c).forEach(function(m){var g=JSON.stringify(c[m]);p.push({name:m,size:g.length})}),p.sort(function(m,g){return g.size-m.size});for(var S=0;u>f&&p[S];)delete c[p[S].name],u-=p[S].size,d.push(p[S].name),S+=1;return c.truncatedKeys=d,[c,JSON.stringify(c)]}(t),i=n[0],r=n[1];try{if(v.sendBeacon&&v.sendBeacon(e,r))return}catch(c){}i.xhrFallback=!0;var o=JSON.stringify(i),s=new XMLHttpRequest;s.open("POST",e,!0),s.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),s.send(o)}function Te(e,t){return!(Array.isArray(e)&&!Array.isArray(t)||!Array.isArray(e)&&Array.isArray(t))&&typeof e==typeof t&&(Array.isArray(e)?e.length===t.length:typeof e=="object"?function(n,i){var r=0,o=0;for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)&&(r+=1,!Te(n[s],i[s])))return!1;for(var s in i)o+=1;return r===o}(e,t):e===t)}function $(e){h.readyState==="loading"?h.addEventListener("DOMContentLoaded",function(){return e()}):setTimeout(e,0)}function tt(e){h.querySelector("html.speed-kit-dynamic-loaded")?setTimeout(e,0):h.addEventListener("speed-kit-loaded",function(){return e()})}var nt=function(){function e(){this.dataLayerObservers=[]}return e.prototype.onDataLayer=function(t){if(!this.dataLayerObservers.length){var n=this.dataLayerObservers;this.observeDataLayer(function(){for(var i=function(f){var l=r;setTimeout(function(){f.apply({},l)},0)},r=arguments,o=0,s=n;o<s.length;o++){var c=s[o];i(c)}})}this.dataLayerObservers.push(t)},e.prototype.onDataLayerReady=function(t){this.waitForDataLayer(t)},e.prototype.observeDataLayer=function(t){$(this.initDataLayer.bind(this,t))},e.prototype.initDataLayer=function(){var t=arguments[0];this.waitForDataLayer(function(){var n=window.dataLayer,i=n.push;n.push=function(){var s=Array.prototype.slice.call(arguments),c=i.apply(n,s);return t.apply(n,s),c};for(var r=0;r<n.length;r+=1)t.call(n,n[r])})},e.prototype.waitForDataLayer=function(t){var n=this;window.dataLayer?t():setTimeout(function(){n.waitForDataLayer(t)},500)},e}();function V(e){return e===void 0&&(e=25),function(t){var n=[];n.length=t;for(var i=0;i<t;)n[i]=0,i+=1;return n}(e).map(function(){return Math.floor(62*Math.random())}).map(function(t){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[t]}).join("")}function W(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={};return e.forEach(function(i){Object.keys(i).forEach(function(r){return n[r]=i[r]})}),n}var it={performanceOnly:!1,stripAllParameter:!1,noCookies:!1,noTracking:!1,pageDisabled:!1};function A(){var e=W({},it);return a.rumTracking?typeof a.rumTracking=="boolean"?e:W(e,a.rumTracking):W(e,{noTracking:!0})}function U(e){var t=null;if(typeof Storage!="undefined")try{t=localStorage.getItem(e)}catch(n){}return t}function de(e){e===void 0&&(e=!0);var t,n=e?V():"",i=0;if((t=U(se))&&(Date.now()-parseInt(t,10))/1e3<=1800){n=U(Q);var r=""+(U(ae)||-1);i=parseInt(r,10)+1}return[n,i]}function ee(e,t){if(typeof Storage!="undefined")try{localStorage.setItem(e,t)}catch(n){}}var k,rt=[K,"baqend-speedkit-config"];function le(){return!(U("baqend-speedkit-sk-opt-out")!=="1"&&!window.deactivateSpeedKit)}function G(e,t){if(!(le()||(ee(e,t),A().noCookies||rt.indexOf(e)<0))){var n=a.cookieLifetime||180,i=new Date(Date.now()+24*n*60*60*1e3).toUTCString();try{h.cookie=e+"="+t+"; expires="+i+"; path=/; SameSite=Lax; Secure"}catch(r){}}}function x(e,t){t===void 0&&(t=!0);var n=U(e),i=function(o){try{var s=new RegExp(o+"=([^,;]*)"),c=h.cookie.match(s);return c&&c[1]?c[1]:null}catch(f){}return null}(e),r=n||i;return r&&n!==i&&t&&G(e,r),r}function ke(e){return e===void 0&&(e=!0),x(K,e)||V()}function pe(e){return"reason"in e}function C(e,t){(function(){if(!(window.SpeedKit&&window.SpeedKit.track)){var o=A(),s=!(o.noTracking||o.performanceOnly);if(window.SpeedKit=window.SpeedKit||{},window.SpeedKit.navigateId=window.SpeedKit.navigateId||""+V(32),window.SpeedKit.group=window.SpeedKit.group||"sk",window.SpeedKit.track=ot,!window.SpeedKit.sessionId&&s){var c=de(),f=c[0],l=c[1];window.SpeedKit.sessionId=f,window.SpeedKit.sessionIndex=l}s&&(window.SpeedKit.userId=window.SpeedKit.userId||ke())}})();var n={timestamp:Date.now(),type:t,message:"Install.js",stackTrace:"null"};if(function(o){return!!o&&("reason"in o||"message"in o)}(e)){var i=pe(e)?e.reason.message||JSON.stringify(e.reason):e.message,r=pe(e)?e.reason.stack:e.stack;n.message="Install.js: "+i,n.stackTrace=r||"null"}(function(o){Ie("jsErrors",[o])})(n)}function ot(e,t,n){Ie("events",[{action:""+e,label:""+t,value:isNaN(Number(n))?0:Number(n)}])}function Ie(e,t){var n=A();if(!n.noTracking){var i={sessionId:SpeedKit.sessionId,userId:SpeedKit.userId},r={piId:SpeedKit.navigateId,testGroup:SpeedKit.group};r[e]=t;var o=n.performanceOnly?r:W(r,i);we("https://"+(a.appDomain||"{}.app.baqend.com".replace("{}",a.appName))+"/v1/rum/pi",o)}}(function(e){e.SNIPPET="snippet",e.CONFIG="skConfig",e.RUMPLUGIN="rum",e.JSTRACKINGPLUGIN="js",e.DFCONFIG="dfConfig",e.MERGE="merge",e.CHANGEDETECTION="cd",e.DYNAMICFETCHER="df",e.MAINNOTMERGED="mainNotMerged"})(k||(k={}));var at=function(){function e(t){this.rumController=t,this.triggerFunctions={domInteractive:this.rumController.onDOMInteractive,load:this.rumController.onLoad,speedKitLoaded:this.rumController.onSpeedKitLoaded,dataLayer:this.rumController.onDataLayer.bind(this.rumController),dataLayerReady:this.rumController.onDataLayerReady.bind(this.rumController),visibilityHidden:this.rumController.onVisibilityHidden,dfDataReady:this.rumController.onDfDataReady,leavePage:this.rumController.onLeavePage.bind(this.rumController),gaReady:this.rumController.onGaReady.bind(this.rumController),gaTracking:this.rumController.onGaTracking.bind(this.rumController),click:this.rumController.onClick,nextTick:this.rumController.onNextTick}}return e.prototype.initPlugin=function(t){if(t.shouldExecute)try{if(!t.shouldExecute())return}catch(i){C(i,k.RUMPLUGIN)}t.type||(t.type="Data"),typeof t.on=="string"?t.on=this.triggerFunctions[t.on]||this.getUnknownTriggerFunction(t.on):t.on=t.on||function(i){return i()};var n=this.generateCallbackFunction(t);try{t.on(n,this.rumController)}catch(i){C(i,k.RUMPLUGIN)}},e.prototype.generateCallbackFunction=function(t){var n=this;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(t.track){var o=[n.rumController].concat(i);try{t.track.apply(t,o)}catch(l){C(l,k.RUMPLUGIN)}}else if(t.key&&(t.set||t.append||t.setTiming)){var s,c=n.getControllerFunction(t),f=n.getTrackingFunction(t);try{s=f.apply(t,i)}catch(l){C(l,k.RUMPLUGIN)}s!=null&&c.call(n.rumController,t.key,s)}}},e.prototype.getControllerFunction=function(t){return t.setTiming?this.rumController.setTiming:t.set?this.rumController.set:this.rumController.append},e.prototype.getTrackingFunction=function(t){return t.setTiming||t.set||t.append},e.prototype.getUnknownTriggerFunction=function(t){var n=this,i=function(r){n.resolvePluginVariable(t)!==null?r():setTimeout(function(){return i(r)},200)};return i},e.prototype.resolvePluginVariable=function(t){for(var n=t.replace(/\[(\w+)\]/g,".$1"),i=(n=n.replace(/^\./,"")).split("."),r=window,o=0,s=i;o<s.length;o++){var c=s[o];if(typeof r!="object"||r==null)break;r=r[c]}return r||null},e}();function st(e){h.addEventListener("visibilitychange",function(){h.visibilityState==="hidden"&&e()},!0)}function ct(e){SpeedKit&&SpeedKit.dynamicBlocks&&SpeedKit.dynamicBlocks.complete&&SpeedKit.dynamicBlocks.dataComplete||!h.querySelector("html.speed-kit-dynamic-loading")?setTimeout(e,0):h.addEventListener("dynamic-fetcher-data-ready",function(){return e()})}var D,ut=function(){function e(){this.callbacks=[],this.unloaded=!1}return e.prototype.init=function(){var t=this;h.addEventListener("visibilitychange",function(){h.visibilityState==="hidden"?t.prepareBeforeLeaving("visibilityChange"):h.visibilityState==="visible"&&(t.unloaded=!1)}),"onpagehide"in window?window.addEventListener("pagehide",function(){return t.prepareBeforeLeaving("pagehide")}):(window.addEventListener("beforeunload",function(){return t.prepareBeforeLeaving("beforeunload")}),window.addEventListener("unload",function(){return t.prepareBeforeLeaving("unload")}))},e.prototype.onLeavePage=function(t){this.callbacks.push(t)},e.prototype.executeRemainingCallbacks=function(){if(!this.unloaded)for(var t=0,n=this.callbacks;t<n.length;t++)(0,n[t])()},e.prototype.prepareBeforeLeaving=function(t){var n=SpeedKit;this.executeRemainingCallbacks(),j(n,t),this.unloaded=!0},e.prototype.isUnloaded=function(){return this.unloaded},e}(),dt=function(){function e(){this.gaObserver=[]}return e.prototype.onGaTracking=function(t){if(!this.gaObserver.length){var n=this.gaObserver;this.observeGa(function(){for(var i=0,r=n;i<r.length;i++){var o=r[i];o.apply({},arguments)}})}this.gaObserver.push(t)},e.prototype.onGaReady=function(t){$(this.waitForGa.bind(this,t))},e.prototype.observeGa=function(t){$(this.initGa.bind(this,t))},e.prototype.initGa=function(){var t=this,n=arguments[0];this.waitForGa(function(){window.ga.getAll().forEach(function(i){var r=i.get("sendHitTask");i.set("sendHitTask",function(o){r.call(t,o),n.call(t,o)})})})},e.prototype.waitForGa=function(t){var n=this,i=window.ga;i?i(function(){return t()}):setTimeout(function(){return n.waitForGa(t)},500)},e}();function lt(e){return e.className.includes("animVal")?e.className.animVal:e.className}function pt(e){return e.getAttribute("formAction")||e.getAttribute("action")||e.getAttribute("href")||e.getAttribute("src")||e.getAttribute("code")||e.getAttribute("codebase")||""}function ft(e){window.addEventListener("click",function(t){if(t.isTrusted){var n,i=t.target;i&&e({element:n=i,elementClasses:lt(n),elementId:n.getAttribute("for")||n.id||"",elementTarget:n.getAttribute("formTarget")||n.getAttribute("target")||"",elementUrl:pt(n)})}},{passive:!0,capture:!0})}function gt(e){setTimeout(e,0)}(function(e){e.Override="override",e.Append="append",e.Force="force",e.Once="once"})(D||(D={}));var T,Ce,Ne,J,z,P,te,R,vt=function(){function e(t,n,i){this.beaconIndex=0,this.sendingScheduled=!1,this.init=this.getInit(t,n),this.sentTracking=Object.create(this.init),this.unsentTracking={},this.customTimers={},this.shouldTrackPI=i,this.dataLayerHandler=new nt,this.leavePageHandler=new ut,this.gATrackingHandler=new dt,this.customDimensions=[{name:"customPiDimensions",type:"PiDimension",dimensionData:{}},{name:"customSessionDimensions",type:"SessionDimension",dimensionData:{}}],this.onDOMInteractive=$,this.onLoad=Z,this.onSpeedKitLoaded=tt,this.onGaReady=this.gATrackingHandler.onGaReady.bind(this.gATrackingHandler),this.onGaTracking=this.gATrackingHandler.onGaTracking.bind(this.gATrackingHandler),this.onDataLayer=this.dataLayerHandler.onDataLayer.bind(this.dataLayerHandler),this.onDataLayerReady=this.dataLayerHandler.onDataLayerReady.bind(this.dataLayerHandler),this.onDfDataReady=ct,this.onVisibilityHidden=st,this.onLeavePage=this.leavePageHandler.onLeavePage.bind(this.leavePageHandler),this.onClick=ft,this.onNextTick=gt,this.pluginHandler=new at(this)}return e.prototype.initializePlugins=function(){var t=this.getPlugins();this.initCustomTimerData(t),this.initCustomDimensionData(t),t.forEach(this.pluginHandler.initPlugin,this.pluginHandler),this.leavePageHandler.init()},e.prototype.reinitialize=function(t,n){this.init=this.getInit(t,n),this.sentTracking=Object.create(this.init),this.unsentTracking={},this.beaconIndex=0;var i=!A().pageDisabled&&a.group!=="B";this.shouldTrackPI=i},e.prototype.reportEvent=function(t,n,i,r){if(!(n===void 0||n<0)&&(this.reportTracking(t,n),r!==void 0&&i)){var o=r-n;if(o<0)return;this.reportTracking(i,o)}},e.prototype.sendCurrentTracking=function(t){if((t||!(this.beaconIndex>=100))&&!A().noTracking){var n=this.getUnsentTracking();if(n){t&&(n.unloadType=t);var i="";n.beaconIndex===0&&(i="?pi=1"+(this.shouldTrackPI?"&bqpi=1":"")),this.shouldTrackPI=!1,we(a.appURL+"/rum/pi"+i,n)}}},e.prototype.updateBaseDimension=function(t,n){this.init[t]=n},e.prototype.trackCustomEvent=function(t,n,i,r){r===void 0&&(r=!0);var o={action:""+t,label:""+n,value:isNaN(Number(i))?0:Number(i)};this.reportTracking("events",o,D.Append),r&&this.sendCollapsed()},e.prototype.set=function(t,n,i,r){var o;i===void 0&&(i=!0),r===void 0&&(r=!1),o=typeof r=="boolean"?r?D.Force:D.Override:r;var s=this.reportTracking(t,n,o);return i&&this.sendCollapsed(),s},e.prototype.setTiming=function(t,n,i,r){return i===void 0&&(i=!0),r===void 0&&(r=!1),typeof n=="number"?this.set(t,n-this.init.navigationStart,i,r):this.set(t,n,i,r)},e.prototype.append=function(t,n,i){i===void 0&&(i=!0),this.reportTracking(t,n,D.Append),i&&this.sendCollapsed()},e.prototype.getBeaconIndex=function(){return this.beaconIndex},e.prototype.calculateRelative=function(t){if(t!==void 0)return t-this.init.navigationStart},e.prototype.reportTracking=function(t,n,i){if(i===void 0&&(i=D.Override),n==null||n==="")return!1;var r=this.customDimensions.filter(function(f){return f.dimensionData.hasOwnProperty(t)})[0];if(r)return this.reportCustomDimension(t,n,r.type);if(this.customTimers.hasOwnProperty(t))return this.reportCustomTimer(t,n);if(i===D.Append){var o=Array.isArray(n)?n:[n],s=this.unsentTracking[t]!==void 0?this.unsentTracking[t]:[],c=Array.isArray(s)?s:[s];return this.unsentTracking[t]=c.concat(o),!0}return!(!Array.isArray(n)&&Te(n,this.sentTracking[t])&&i!==D.Force)&&(!this.sentTracking.hasOwnProperty(t)||i!==D.Once)&&(this.unsentTracking[t]=n,!0)},e.prototype.reportCustomDimension=function(t,n,i){var r=typeof n=="string"?n:JSON.stringify(n),o=this.customDimensions.filter(function(c){return c.type===i})[0];if(!o||o.dimensionData[t]&&o.dimensionData[t]!=="null")return!1;o.dimensionData[t]=r;var s=this.unsentTracking[o.name]||{};return s[t]=r,this.unsentTracking[o.name]=s,!0},e.prototype.reportCustomTimer=function(t,n){if(typeof n!="number"||this.customTimers[t]&&this.customTimers[t]!==-1)return!1;this.customTimers[t]=n;var i=this.unsentTracking.customTimers||{};return i[t]=n,this.unsentTracking.customTimers=i,!0},e.prototype.getPlugins=function(){return window.SpeedKit&&window.SpeedKit.rumPlugins?window.SpeedKit.rumPlugins:[]},e.prototype.initCustomDimensionData=function(t){var n=this;t.forEach(function(i){i.key&&(n.customDimensions.every(function(r){return r.type!==i.type})||n.reportCustomDimension(i.key,"null",i.type))})},e.prototype.initCustomTimerData=function(t){var n=this;t.forEach(function(i){i.key&&i.type==="CustomTimer"&&(n.customTimers[i.key]=-1)})},e.prototype.getUnsentTracking=function(){if(Object.keys(this.unsentTracking).length===0)return null;var t=Object.create(null);for(var n in this.init)Object.prototype.hasOwnProperty.call(this.init,n)&&(t[n]=this.init[n]);for(var n in t.beaconIndex=this.beaconIndex,this.unsentTracking)Object.prototype.hasOwnProperty.call(this.unsentTracking,n)&&(t[n]=this.unsentTracking[n],this.sentTracking[n]=this.unsentTracking[n]);return this.unsentTracking=Object.create(null),this.beaconIndex+=1,t},e.prototype.sendCollapsed=function(){var t=this;this.leavePageHandler.isUnloaded()?this.sendCurrentTracking():this.sendingScheduled||(this.sendingScheduled=!0,setTimeout(function(){t.sendingScheduled=!1,t.sendCurrentTracking()},100))},e.prototype.getInit=function(t,n){return A().performanceOnly?t:W(t,n)},e}();function Pe(e){return parseFloat((1-e).toFixed(2))}function fe(){var e=v.userAgent;return e.indexOf("Safari")>-1&&e.indexOf("Edge")===-1&&e.indexOf("Chrome")===-1}function Ee(){return!fe()&&typeof PerformanceNavigationTiming!="undefined"&&!!performance.getEntriesByType}function De(){var e=performance.navigation;if(!Ee())return Oe(e.type);var t=performance.getEntriesByType("navigation");return t[0]&&"toJSON"in t[0]?z[t[0].type]:Oe(e.type)}function Oe(e){return typeof e!="number"?z[e]:e}function ne(){return window.performance?performance.timing.navigationStart||Math.trunc(performance.timeOrigin):0}function Le(e){var t=function(){var f=window.performance.timing;if(!Ee())return f;var l=performance.getEntriesByType("navigation");return l[0]&&"toJSON"in l[0]?l[0].toJSON():f}(),n=window.performance.timing,i="entryType"in t,r={};for(var o in t)if(typeof t[o]=="number"){var s=t[o]!==0,c=n&&(typeof n[o]!="number"||n[o]!==0);s||c?i?r[o]=Math.trunc(t[o]):t[o]>=e&&(r[o]=t[o]-e):r[o]=-1}else r[o]=t[o];return r.navigationStart=e,r.domLoading=n.domLoading-e,r.ttfb=i?r.responseStart:n.domLoading-e,r}function ht(e,t){var n,i,r;e.controllingServiceWorker&&t.set("controllingSw",e.controllingServiceWorker,!1),e.lastNavigate.applicationState&&t.set("applicationState",e.lastNavigate.applicationState,!1),e.lastNavigate.responseCause!==T.Unknown&&t.set("responseCause",e.lastNavigate.responseCause,!1)&&t.set("responseSource",e.lastNavigate.responseSource,!1,!0),e.lastNavigate.disconnectCause!==J.None&&e.lastNavigate.disconnectCause!==J.DashboardDisabled&&t.set("disconnectCause",e.lastNavigate.disconnectCause,!1),typeof e.split=="number"&&t.set("split",(n=e.group,i=e.split,r=n==="A"&&typeof a.secondarySplit=="number"?a.secondaryGroup==="B"?Pe(a.secondarySplit):a.secondarySplit:1,i*r),!1),e.readyState==="complete"&&e.lastNavigate.splitTestId!==e.splitTestId&&t.set("actualTestId",""+e.lastNavigate.splitTestId,!1),e.readyState==="complete"&&e.lastNavigate.group!==e.group&&t.set("actualTestGroup",""+e.lastNavigate.group,!1)}function j(e,t){var n,i=e.rumController,r=!!a.secondaryGroup,o=e.lastNavigate.responseCause===T.BfCache,s=r?e.splitTestId+"-"+a.secondaryTestId:e.splitTestId,c=function(){if(A().stripAllParameter)return location.href.replace(/\?.*/,"?redacted");if(A().stripParameters){var u=new URL(location.href);return A().stripParameters.forEach(function(p,d){var S=new URL(location.href).searchParams.get(p)||"",m=S.length?p+"="+S:p;u.search=u.search.replace(new RegExp("(\\?|&)"+m),"$1redacted-"+d)}),u.href}return location.href}();r&&i.updateBaseDimension("testGroup",a.group+"-"+a.secondaryGroup);var f=A().performanceOnly?0:e.sessionIndex;i.set("sessionIndex",f,!1);var l=ne();i.reportEvent("snippetExecution",e.executionTime-l),i.set("url",c,!1,D.Once),i.set("userAgent",v.userAgent,!1),i.set("referrer",h.referrer,!1),i.set("testId",s||"None",!1),i.set("responseSource",e.lastNavigate.responseSource,!1),i.set("assetTTFB",e.lastNavigate.assetTTFB,!1),i.set("originTTFB",e.lastNavigate.originTTFB,!1),i.set("assetSource",e.lastNavigate.assetSource,!1),i.set("assetCause",e.lastNavigate.assetCause,!1),i.set("firstLoad",e.lastNavigate.firstLoad,!1),i.set("disabled",e.disabled,!1),i.set("swSupported",e.swSupported,!1),i.set("skSupported",e.skSupported,!1),i.set("redirectList",(n=e.lastNavigate.redirectList)===null||n===void 0?void 0:n.map(function(u){return u.url}),!1,D.Once),i.set("screenResolution",e.screenResolution,!1,D.Once),i.set("documentVisible",h.visibilityState==="visible",!1,D.Once),i.set("variation",e.lastNavigate.variation,!1),i.set("pageTypeEnabled",e.pageTypeEnabled,!1,D.Once),ht(e,i),typeof window.performance===void 0||o||(function(u){var p=ne(),d=Le(p);u.set("navigationStart",p,!1),u.set("secureConnectDuration",d.secureConnectionStart>=0&&d.connectEnd>=0?d.connectEnd-d.secureConnectionStart:-1,!1),u.reportEvent("unload",d.unloadEventStart,"unloadDuration",d.unloadEventEnd),u.reportEvent("domainLookup",d.domainLookupStart,"domainLookupDuration",d.domainLookupEnd),u.reportEvent("connect",d.connectStart,"connectDuration",d.connectEnd),u.reportEvent("redirect",d.redirectStart,"redirectDuration",d.redirectEnd),u.reportEvent("response",d.responseStart,"responseDuration",d.responseEnd),u.reportEvent("load",d.loadEventStart,"loadDuration",d.loadEventEnd),u.reportEvent("domContentLoaded",d.domContentLoadedEventStart,"domContentLoadedDuration",d.domContentLoadedEventEnd),u.reportEvent("request",d.requestStart),u.reportEvent("fetch",d.fetchStart),u.reportEvent("ttfb",d.ttfb),u.reportEvent("domComplete",d.domComplete),u.reportEvent("domInteractive",d.domInteractive),u.reportEvent("workerStart",d.workerStart)}(i),function(u){var p=De();p!==void 0&&u.set("navigationType",p,!1)}(i),function(u){if(typeof PerformancePaintTiming!="undefined"&&window.performance.getEntriesByType){var p=performance.getEntriesByType("paint");if(p&&p.length){var d=p.find(function(g){return g.name==="first-paint"}),S=p.find(function(g){return g.name==="first-contentful-paint"});u.set("firstPaint",d?Math.round(d.startTime):-1,!1),u.set("firstContentfulPaint",S?Math.round(S.startTime):-1,!1)}}else if(window.performance!==void 0){var m=performance.timing.msFirstPaint;m&&(u.setTiming("firstPaint",m,!1),u.setTiming("firstContentfulPaint",m,!1))}}(i)),o||(function(u,p){u.lastNavigate.cdnBackendTime&&p.set("cdnBackendTime",u.lastNavigate.cdnBackendTime,!1),u.lastNavigate.cdnPoP&&p.set("cdnPop",""+u.lastNavigate.cdnPoP,!1)}(e,i),function(u,p){var d=u.lastNavigate?u.lastNavigate.timings:null;d&&(p.setTiming("speedKitFetchEvent",d.eventStart,!1),p.setTiming("speedKitHandle",d.handleStart,!1),p.setTiming("speedKitBlacklistHandler",d.blacklistHandler,!1),p.setTiming("speedKitDisabledPageHandler",d.disabledPageHandler,!1),d.handleStart!==void 0&&d.handleEnd!==void 0&&p.set("speedKitHandleDuration",d.handleEnd-d.handleStart,!1),d.cacheStart!==void 0&&d.cacheEnd!==void 0&&p.reportEvent("speedKitCacheLookup",d.cacheStart-d.handleStart,"speedKitCacheLookupDuration",d.cacheEnd-d.handleStart),d.fetchStart!==void 0&&d.fetchEnd!==void 0&&p.reportEvent("speedKitFetchCall",d.fetchStart-d.handleStart,"speedKitFetchCallDuration",d.fetchEnd-d.handleStart))}(e,i)),t?i.sendCurrentTracking(t):i.sendCollapsed()}function M(){return!!h.querySelector(".speed-kit-dynamic-loading,.speed-kit-dynamic-loaded")}function mt(e){var t,n=!1,i=!1,r=function(){n&&i&&j(e)};Z(function(){setTimeout(function(){n=!0,r()})}),function(o,s){o.readyState!=="complete"?window.addEventListener("speed-kit-completed",s,{once:!0}):s()}(e,function(){i=!0,r()}),t=function(){r()},typeof PerformancePaintTiming!="undefined"&&window.performance.getEntriesByType&&performance.getEntriesByType("paint").length>0||typeof PerformanceObserver=="undefined"||typeof PerformancePaintTiming=="undefined"?t():new PerformanceObserver(t).observe({entryTypes:["paint"]}),window.addEventListener("pageshow",function(o){if(o.persisted){var s=de(),c=s[0],f=s[1];SpeedKit.navigateId=""+V(32),SpeedKit.lastNavigate.responseCause=T.BfCache,SpeedKit.lastNavigate.responseSource=M()?P.AssetAPI:P.Origin,SpeedKit.sessionIndex=f,SpeedKit.executionTime=Date.now();var l=performance.timing.navigationStart||performance.timeOrigin,u={sessionId:c,userId:SpeedKit.userId},p={navigationStart:l,testGroup:SpeedKit.group,piId:SpeedKit.navigateId};SpeedKit.rumController.reinitialize(p,u),j(SpeedKit)}})}function _(e){e.readyState!=="complete"&&setTimeout(function(){var t,n,i,r;e.readyState="complete",t="speed-kit-completed",n=window,i===void 0&&(i={}),typeof CustomEvent=="function"?r=new CustomEvent(t,{detail:i}):(r=h.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,i),n.dispatchEvent(r)})}function Ae(e,t,n,i){i===void 0&&(i=1e3);var r=!1;return n&&setTimeout(function(){return r?null:n()},i),new Promise(function(o,s){var c=new MessageChannel,f=c.port1,l=c.port2;f.onmessage=function(u){r=!0,o(u.data)},f.onmessageerror=function(u){return s(u.data)},e.postMessage(t,[l])})}function yt(e,t){Ae(e,{type:"get-navigate-info",clientURL:location.href},function(){t.lastNavigate.responseSource=M()?P.AssetAPI:P.Origin,t.lastNavigate.responseCause=T.NoSwResponse,_(t)}).catch(function(n){return C(n,k.SNIPPET),null}).then(function(n){(function(i,r){if(!(!r||"wasCacheHit"in r)){if("reason"in r)return i.lastNavigate.applicationState=r.applicationState,i.lastNavigate.errorMessage=r.reason,void(r.applicationState===te.FAILED&&(i.lastNavigate.responseCause=T.SwFailed));r.firstLoad=i.lastNavigate.firstLoad;var o=r.responseSource===P.Origin,s=[T.NoMatchingNavigate,T.SwBooting,T.NoNavigate,T.Unknown].includes(r.responseCause);r.assetSource||r.assetCause||r.assetTTFB||(r.assetSource=i.lastNavigate.assetSource,r.assetCause=i.lastNavigate.assetCause,r.assetTTFB=i.lastNavigate.assetTTFB),r.originTTFB||(r.originTTFB=i.lastNavigate.originTTFB),i.lastNavigate=r,i.lastNavigate.applicationState=r.applicationState,i.lastNavigate.responseCause=r.responseCause,o&&M()&&(i.lastNavigate.responseSource=s?P.AssetAPI:P.SDN),i.lastNavigate.originStatus=r.originStatus,i.lastNavigate.disconnectCause=r.disconnectCause,i.lastNavigate.assetTTFB=r.assetTTFB}})(t,n),_(t)})}function St(e){return fetch(a.appURL+"/config/VAPIDPublicKey").then(function(t){return t.arrayBuffer()}).then(function(t){return{applicationServerKey:t,userVisibleOnly:!0}}).then(function(t){return e.subscribe(t)}).then(function(t){var n={subscription:t,devicetype:"WebPush"};return fetch(a.appURL+"/db/Device/register",{method:"POST",credentials:"include",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})}).then(function(t){return t.status===200},function(){return!1})}function bt(){return"Notification"in window?Notification.requestPermission().then(function(e){return e==="denied"?"denied":e!=="granted"?"undecided":v[E].ready.then(function(t){var n=t.pushManager;return function(i){return i.getSubscription().then(function(r){return!!r})}(n).then(function(i){return!!i||St(n)})}).then(function(t){return t?"registered":"unregistered"})}):Promise.resolve("unsupported")}function Re(e){var t=v[E];if(t)return t.ready.then(function(n){var i;if(n.active&&n.active.state==="activated")return n.active.postMessage(e);(i=n.active)===null||i===void 0||i.addEventListener("statechange",function(){var r;((r=n.active)===null||r===void 0?void 0:r.state)==="activated"&&n.active.postMessage(e)})})}function Fe(e){return e&&new URL(e,location.origin).pathname}function ge(e){var t;(t=Re({type:"update-device",data:e}))===null||t===void 0||t.catch(function(n){return C(n,k.SNIPPET)});try{(function(n){if(a.group!=="B"){var i=Fe(a.scope),r=v.userAgent,o=new ue(i);o.set("/com.baqend.speedkit.device",{device:n,userAgent:r}).catch(function(s){return C(s,k.SNIPPET)}).then(function(){return o.disconnect().catch(function(s){return C(s,k.SNIPPET)})})}})(e)}catch(n){C(n,k.SNIPPET)}}function wt(e){var t=v[E].controller;t&&t.postMessage({type:"bypass-deactivation",data:e})}function Tt(){var e=v[E];e&&e.controller&&e.controller.postMessage({type:"connect"})}function kt(){var e=v[E];e&&e.controller&&e.controller.postMessage({type:"disconnect"})}function It(){var e=U("baqend-speedkit-hashing-salt");if(e)return e;var t=function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i="",r=0;r<32;r+=1)i+=n.charAt(Math.floor(Math.random()*n.length));return i}();return ee("baqend-speedkit-hashing-salt",t),t}function Ct(e){return function(t,n){for(var i="",r=0;r<t.length;r+=1){var o=r%n.length;i+=(t.charCodeAt(r)^n.charCodeAt(o)).toString(32)}return i}(e,It())}function Nt(e){var t=v[E].controller;t&&t.postMessage({type:"offline",data:e})}function Be(){var e=v[E].controller;e&&e.postMessage({type:"fetch-bloom-filter",data:!0})}function X(){return a.disabled||a.enabled===!1}function xe(e){return e===T.SkUnsupported}function Y(e){var t;(t=Re({event:e,type:"send-cookies",data:h.cookie}))===null||t===void 0||t.catch(function(n){return C(n,k.SNIPPET)})}function Ke(e,t,n){return!!v[E]&&!!v[E].getRegistrations&&function(i,r,o){return i==="Safari"?r!==15||o>=2:i==="Chrome"?r>=61:i!=="Firefox"||r!==59}(e,t,n)}function Ue(){return v.userAgent.toLowerCase().indexOf("wv)")>-1}function Ge(e){var t=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)\.?(\d+)?/i)||[],n=null;if(/trident/i.test(t[1]))return n=/\brv[ :]+(\d+)\.?(\d+)?/g.exec(e)||[],["IE",parseInt(n[1],10)||0,parseInt(n[2],10)||0];var i=function(o){if(/(iPhone|iPod|iPad).*AppleWebKit(?!.*?Version)/.test(o)){var s=o.match(/(OS |os |OS)(\d+)_?(\d+)?/i)||[];return[/\b(crios)\/(\d+)/i.test(o)?"Safari":"SafariWebView",parseInt(s[2],10)||0,parseInt(s[3],10)||0]}return null}(e)||function(o,s){if(s[1]==="Chrome"){var c=null;if((c=o.match(/\bEdg\/(\d+)\.?(\d+)?/)||o.match(/\bEdge\/(\d+)\.?(\d+)?/))!=null)return["Edge",parseInt(c[1],10),parseInt(c[2],10)||0];if((c=o.match(/\bOPR\/(\d+)\.?(\d+)?/))!=null)return["Opera",parseInt(c[1],10),parseInt(c[2],10)||0]}return null}(e,t);if(i!==null)return i;var r=t[2]?[t[1],parseInt(t[2],10),parseInt(t[3],10)||0]:[v.appName,parseInt(v.appVersion,10),0];return e.indexOf("Android")===-1&&(n=e.match(/version\/(\d+)\.?(\d+)?/i))!=null&&(r.splice(1,1,parseInt(n[1],10)),r.splice(2,1,parseInt(n[2],10)||0)),r}function qe(){var e=Ge(v.userAgent);return e[0]==="SafariWebView"&&e[1]>=14}function Me(){return v.userAgent.indexOf("Edge")>=0}function He(e,t,n,i){i===void 0&&(i=!1);var r=!a.enableForWebViews&&(Ue()||qe());return Ke(e,t,n)&&!i&&!r&&!Me()}function Pt(e){return"regexp:/"+e.source+"/"+(e.flags||"")}function ie(e){return!!e.pathname&&function t(n,i){return i instanceof Array?i.some(function(r){return t(n,r)}):i instanceof RegExp?i.test(n):n.toLowerCase().startsWith(i.toLowerCase())}(location.pathname,e.pathname)}function Et(e,t){var n,i,r,o,s,c,f,l=a.group,u=window.SpeedKit||{},p=u.navigateId||""+V(32),d=ne(),S=t.userId,m=t.sessionId,g=t.sessionIndex,w=e.browser,b=e.browserVersion,I=e.minorVersion,O={navigationStart:d,testGroup:l,piId:p},N={userId:S,sessionId:m},y=(n=e.responseCause,i=!A().pageDisabled,(X()||xe(n))&&i&&a.group!=="B"),L=new vt(O,N,y),H=L.trackCustomEvent.bind(L),q={navigateId:p,userId:S,sessionId:m,sessionIndex:g,group:l,rumController:L,track:H,subscribe:bt,bypassDeactivation:wt,activate:Tt,deactivate:kt,split:typeof a.split=="number"?a.group==="B"?Pe(a.split):a.split:1,updateDevice:ge,getHash:Ct,simulateOfflineMode:Nt,fetchBloomFilter:Be,updateCookies:Y,disabled:!1,lastNavigate:e,readyState:"loading",splitTestId:a.splitTestId,controllingServiceWorker:Dt(),executionTime:Date.now(),swSupported:Ke(w,b,I),skSupported:He(w,b,I),screenResolution:{width:window.screen.width*window.devicePixelRatio,height:window.screen.height*window.devicePixelRatio},pageTypeEnabled:(r=!a.enabledSites||a.enabledSites.some(function(B){return ie(B)}),o=!!a.disabledSites&&a.disabledSites.some(function(B){return ie(B)}),s=r&&!o,c=!!a.blacklist&&a.blacklist.some(function(B){return ie(B)||!1}),f=!!a.whitelist&&a.whitelist.some(function(B){return ie(B)||!1}),s&&(!c||f))};return Object.keys(u).forEach(function(B){q[B]=u[B]}),window.SpeedKit=q,L.initializePlugins(),window.SpeedKit}function Dt(){return v.serviceWorker&&v.serviceWorker.controller?v.serviceWorker.controller.scriptURL:null}function re(e){if(typeof Storage!="undefined")try{localStorage.removeItem(e)}catch(t){}try{h.cookie=e+"=; expires="+new Date().toUTCString()+"; path=/; SameSite=lax; Secure"}catch(t){}}function je(e,t){if(t)return!0;var n=e.group,i=e.testId;return!(!i||i.indexOf("-debug")===-1)||n!=="A"}function Ve(){return U("baqend-speedkit-debug")==="true"}function We(e,t){var n=function(r,o){var s=o==="baqend-speedkit-secondary-config",c=function(l,u){var p=l.testId!=="undefined",d=l.group!=="undefined",S=u?a.secondaryTestId:a.splitTestId,m=p&&(g=l.testId,w=S,(g==null?void 0:g.replace("-debug",""))!==(w==null?void 0:w.replace("-debug",""))),g,w;if(d&&!m)return l.group;var b=u?a.secondaryGroup:a.group,I=u?a.secondarySplit:a.split;return function(O,N){return O===void 0?Math.random()<N?"A":"B":O}(b,I)}(r,s),f=s?a.secondaryTestId:a.splitTestId;return f&&(f=function(l){return Ve()?l.indexOf("-debug")>-1?l:l+"-debug":l.replace("-debug","")}(f)),{group:c,testId:f}}(e,t),i=t==="baqend-speedkit-secondary-config";return i?(a.secondaryGroup=n.group,a.secondaryTestId=n.testId):(a.group=n.group,a.splitTestId=n.testId),je(n,i?a.secondarySplit<1:a.split<1)?(function(r,o,s){c=s,f=encodeURIComponent(JSON.stringify(r)),l=encodeURIComponent(JSON.stringify(o)),l!==f&&l&&G(c,l);var c,f,l}(e,n,t),!0):(re(t),!1)}function Ot(e,t,n,i){var r=window.location.href,o=Ge(v.userAgent),s=o[0],c=o[1],f=o[2],l=function(p,d,S,m,g,w){var b=He(p,d,S,m),I=a.group==="B"||a.secondaryGroup==="B";return b?!I&&X()?[P.Origin,T.Disabled]:!g||!a.sdnSetup&&M()?!I&&w?[P.Origin,T.GroupChange]:v[E].controller?[M()?P.AssetAPI:P.Origin,T.Unknown]:[P.Origin,I?T.NonSKGroup:T.NoSwInstalled]:[P.Origin,T.FirstLoad]:[P.Origin,T.SkUnsupported]}(s,c,f,e,t,n.group==="B"||i.group==="B"),u=l[0];return{url:r,browser:s,firstLoad:t,browserVersion:c,minorVersion:f,responseCause:l[1],responseSource:u,cdnBackendTime:null,cdnPoP:null,splitTestId:n.testId,group:a.split!==void 0?n.group:a.group,disconnectCause:J.None}}function ve(e,t,n){return e.put(""+t,new Response(null,{status:200,statusText:(i=n,JSON.stringify(i,function(r,o){return o instanceof RegExp?Pt(o):o}))}));var i}function oe(){var e=new URL(a.sw||"/sw.js",location.origin);return e.origin+e.pathname}function Lt(e){var t=function(n){var i=n;if(a.includeServiceWorker){var r=n.indexOf("?")>=0?"&":"?";i+=r+"othersw="+a.includeServiceWorker}return i}(a.sw);return v[E].register(t,{scope:a.scope||"/"}).then(function(n){var i;i=!1,h.addEventListener("visibilitychange",function(){h.visibilityState==="hidden"?i||(i=!0,Y("visibilitychange")):i=!1}),window.addEventListener("pagehide",function(){i||(i=!0,Y("pagehide"))});var r=oe(),o=e.controllingServiceWorker;(!o||(r==null?void 0:r.split("?")[0])!==o.split("?")[0])&&function(s){Z(function(){window.setTimeout(function(){if(s.active&&typeof PerformanceResourceTiming!="undefined"){var c,f=(c=Le(ne()).domContentLoadedEventEnd,window.performance.getEntriesByType?performance.getEntriesByType("resource").filter(function(l){if(c>0&&l.startTime+l.duration>c)return!1;var u;try{u=new URL(l.name)}catch(p){return!1}return(u==null?void 0:u.origin)!==window.location.origin}):[]).map(function(l){var u,p=l.name,d=l.initiatorType;return d==="link"&&(u=function(S){var m=h.querySelector('link[href="'+S+'"]');switch((m==null?void 0:m.getAttribute("rel"))||(m==null?void 0:m.getAttribute("as"))){case"audio":return R.Audio;case"document":return R.Document;case"fetch":return R.Fetch;case"image":return R.Image;case"script":return R.Script;case"stylesheet":case"style":return R.Style;case"track":return R.Track;case"video":return R.Video;default:return}}(p)),{initiatorType:d,contentType:u,url:p}});Ae(s.active,{type:"prewarm-fetch",data:f}).then(function(l){if(l.applicationState===te.FAILED)return function(u){return window.caches?caches.open(ce(F,a.scope)).then(function(p){var d=window.devicePixelRatio,S=window.screen.width,m=[[location.origin,h.cookie]];return Promise.all([ve(p,"/com.baqend.speedkit.screen",{dpr:d,width:S}),ve(p,"/com.baqend.speedkit.config",a),ve(p,"/com.baqend.speedkit.cookie",{origins:m})])}).then(function(){return u.postMessage({type:"init-cache"})}):Promise.resolve()}(s.active)})}},1e3)})}(n),function(s){s.navigationPreload&&function(c){if(c.active)return Promise.resolve(c.active);var f=c.waiting||c.installing;return new Promise(function(l){return f.onstatechange=function(){f.state==="activated"&&l(f)}})}(s).then(function(){a.navigationPreload?s.navigationPreload.enable():s.navigationPreload.disable()}).catch(function(c){return C(c,k.SNIPPET)})}(n)})}function Je(e){h.readyState==="loading"?h.addEventListener("DOMContentLoaded",e):setTimeout(e,0)}function ze(e){var t=x(e),n=e==="baqend-speedkit-secondary-config",i=n?a.secondarySplit:a.split,r=n?F+"-secondary-ab-test-info":F+"-ab-test-info";if(t)return _e(t);var o={group:"undefined",testId:"undefined"},s=x(r);return s&&(o=_e(s),re(r),je(o,i!=null&&i<1)&&G(e,encodeURIComponent(JSON.stringify(o)))),o}function _e(e){try{return JSON.parse(decodeURIComponent(e))}catch(t){return{group:"undefined",testId:"undefined"}}}function At(){var e,t,n=JSON.parse(U("baqend-speedkit-rum-split-enabled")||"{}"),i=!n.sessionId,r=n.sessionId===x(Q);return{rumSplitEnabled:n&&n.sessionId?n.split!==!1:(t=Math.random()<((e=a.sampleRate)!==null&&e!==void 0?e:1),a.sampleRate&&ee("baqend-speedkit-rum-split-enabled",JSON.stringify({split:t,sessionId:x("baqend-speedkit-session-id")})),t),isActiveSession:i||r}}function Rt(){if(!(!le()&&U("baqend-speedkit-rum-opt-out")!=="1"&&!window.deactivateSpeedKitRUM))return!1;var e=a.rumTracking;if(!e)return!1;if(a.sampleRate===void 0)return function(r){if(h.cookie=r+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax; Secure",typeof Storage!="undefined")try{localStorage.removeItem(r)}catch(o){}}("baqend-speedkit-rum-split-enabled"),e;var t=At(),n=t.rumSplitEnabled,i=t.isActiveSession;return!(!n||!i)&&e}function Ft(){var e,t=window.SpeedKit||{},n=t.userId,i=t.sessionId,r=t.sessionIndex,o=A(),s=!o.noTracking&&!o.performanceOnly;return t.sessionId||(i=(e=s?de():["",0])[0],r=e[1]),t.userId||(n=s?ke():""),{userInfo:{userId:n,sessionId:i,sessionIndex:r},persisted:function(c,f,l){var u=A();return u.noTracking||u.performanceOnly?!1:(G(K,c),G(Q,f),G(ae,""+l),G(se,Date.now().toString()),!0)}(n,i,r)}}function Xe(e){for(var t=0,n=h.cookie.replace(/\s/g,"").split(";").filter(function(s){return s.lastIndexOf(e,0)===0});t<n.length;t++){var i=n[t],r=i.indexOf("="),o=r>-1?i.substr(0,r):i;h.cookie=o+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax; Secure"}}function Bt(e,t){if(e)return function(n,i){if(typeof Storage!="undefined")try{for(var r in localStorage)r.includes(n)&&!(i!=null&&i.includes(r))&&localStorage.removeItem(r)}catch(o){}}(F,["baqend-speedkit-sk-opt-out"]),void Xe(F);t.noCookies&&Xe(F),!t.noTracking&&!t.performanceOnly||a.sampleRate||[K,Q,ae,se].forEach(function(n){return re(n)})}(function(e){e.Blacklist="Blacklist",e.Blocked="Blocked",e.ClientError="ClientError",e.Redirect="Redirect",e.CORSRedirect="CORSRedirect",e.CriticalResource="CriticalResource",e.Delayed="Delayed",e.Disabled="Disabled",e.Disconnected="Disconnected",e.DynamicBlock="DynamicBlock",e.DynamicBlockPreload="DynamicBlockPreload",e.DynamicBlockCached="DynamicBlockCached",e.Error="Error",e.Fallback="Fallback",e.Fetchlist="Fetchlist",e.FirstLoad="FirstLoad",e.GroupChange="GroupChange",e.IgnoredAfterPOSTNavigate="IgnoredAfterPOSTNavigate",e.InternalServerError="InternalServerError",e.LoopDetected="LoopDetected",e.NavigationPreload="NavigationPreload",e.NonSKGroup="NonSKGroup",e.SkUnsupported="SkUnsupported",e.NoSwInstalled="NoSwInstalled",e.NoSwResponse="NoSwResponse",e.Offline="Offline",e.Onboarding="Onboarding",e.SafeScript="SafeScript",e.SwFailed="SwFailed",e.TrackingRequest="TrackingRequest",e.Unknown="Unknown",e.Immutable="Immutable",e.BfCache="BfCache",e.NotEnabled="NotEnabled",e.NotWhitelisted="NotWhitelisted",e.UserAgentChanged="UserAgentChanged",e.TooLargeRequest="TooLargeRequest",e.FormatNotSupported="FormatNotSupported",e.OtherSwInstalled="OtherSwInstalled",e.SwBooting="SwBooting",e.NoNavigate="NoNavigate",e.NoMatchingNavigate="NoMatchingNavigate",e.Timeout="Timeout",e.DisabledSites="DisabledSites",e.PartialResponse="PartialResponse"})(T||(T={})),function(e){e.CacheMiss="CacheMiss",e.ExpiredResponse="ExpiredResponse",e.InstantRefresh="InstantRefresh",e.InvalidCacheSketch="InvalidCacheSketch",e.ReloadCacheMode="ReloadCacheMode",e.UrlInCacheSketch="UrlInCacheSketch"}(Ce||(Ce={})),function(e){e.CacheHit="CacheHit",e.RevalidationWhitelist="RevalidationWhitelist"}(Ne||(Ne={})),function(e){e.SWException="SWException",e.BloomfilterException="BloomfilterException",e.DashboardDisabled="DashboardDisabled",e.ServerError="ServerError",e.None="None",e.AssetTimeout="AssetTimeout"}(J||(J={})),function(e){e[e.navigate=0]="navigate",e[e.reload=1]="reload",e[e.back_forward=2]="back_forward",e[e.prerender=3]="prerender",e[e.reserved=255]="reserved"}(z||(z={})),function(e){e.AssetAPI="AssetAPI",e.Shield="Shield",e.Storage="Storage",e.Edge="Edge",e.Collapsed="Collapsed",e.PendingAsset="PendingAsset",e.Stream="Stream",e.MissingCachingHeader="MissingCachingHeader",e.Generated="Generated",e.Origin="Origin",e.SwCache="SwCache",e.SDN="SDN"}(P||(P={})),function(e){e.INSTALLING="installing",e.BOOTING="booting",e.RUNNING="running",e.FAILED="failed"}(te||(te={})),function(e){e.Document="document",e.Navigate="navigate",e.Fetch="fetch",e.Audio="audio",e.Video="video",e.Track="track",e.PDF="pdf",e.Image="image",e.Style="style",e.Script="script",e.Font="font",e.Undefined="undefined"}(R||(R={}));try{(function(){if(!window[ye]){window[ye]=!0;var e=window.location.href.match(/speed-kit-rum-opt-out=([01])/);e&&ee("baqend-speedkit-rum-opt-out",e[1]);var t=le();t&&(a.rumTracking=!1);var n=function(){if(x("baqend-speedkit-config")!==null||x(K)!==null)return!1;if(v.serviceWorker&&(a.split==null||a.split===1)){var g=oe(),w=v.serviceWorker.controller;return!w||!Ze(g,w)}return!0}(),i=function(){var g={group:"",testId:a.splitTestId};if(window.location.href.indexOf("disableSpeedKit=1")>=0?g.group="B":window.location.href.indexOf("enableSpeedKit=1")>=0&&(g.group="A"),g.group)return G("baqend-speedkit-config",encodeURIComponent(JSON.stringify(g))),g}()||ze("baqend-speedkit-config"),r=ze("baqend-speedkit-secondary-config"),o=function(g,w,b){var I=!1;if(b)return a.group="optOut",I;if(a.split==null){var O=g.testId==="undefined"&&g.group!=="undefined";a.group=O?g.group:"A"}else I=We(g,"baqend-speedkit-config");if(Ve()&&(a.secondarySplit=null),a.secondarySplit!=null&&a.group==="A"){var N=We(w,"baqend-speedkit-secondary-config");I=I||N}return I}(i,r,t),s=Ft(),c=s.userInfo,f=s.persisted,l=function(g,w){var b=x(K)===null&&x("baqend-speedkit-config")===null&&x("baqend-speedkit-secondary-config")===null;return b?b&&g?!0:w?!1:(G(K,"testDenied"),b=x(K)===null,re(K),b):!1}(o&&f,t);(function(g){a.sw=a.sw||"/sw.js",a.split!=null&&a.group&&(a.sw=(w=a.sw,b="gr",I=a.group,O=w.indexOf("?")>-1?"&":"?",""+w+O+b+"="+I));var w,b,I,O;a.rumTracking=Rt();var N=!a.enableForWebViews&&(Ue()||qe());a.disabled=a.enabled===!1||a.disabled||a.group==="B"||a.secondaryGroup==="B"||N||Me()||g,a.appURL="https://"+(a.appDomain||"{}.app.baqend.com".replace("{}",a.appName))+"/v1",a.customVariation&&a.customVariation.forEach(function(y){var L;y.variationFunction=typeof y.variationFunction=="function"?y.variationFunction.toString():y.variationFunction,y.rules=(L=y.rules)===null||L===void 0?void 0:L.map(function(H){return H.contentType?H:Object.assign(H,{contentType:[R.Document]})}),y.rules||(y.rules=[{contentType:[R.Document]}])}),a.urlTransform&&a.urlTransform.forEach(function(y){y.transformFunction=typeof y.transformFunction=="function"?y.transformFunction.toString():y.transformFunction}),a.image&&Array.isArray(a.image)&&a.image.forEach(function(y){var L;y.imageFunction=typeof y.imageFunction=="function"?(L=y.imageFunction)===null||L===void 0?void 0:L.toString():y.imageFunction}),$e("customDevice"),M()||$e("detectDevice"),Array.isArray(a.shouldDetectDevice)&&a.shouldDetectDevice.length>0?a.shouldDetectDevice=a.shouldDetectDevice.map(function(y){return y.contentType?y:Object.assign(y,{contentType:[R.Document]})}):a.shouldDetectDevice=[{contentType:[R.Document]}],(v.userAgent.indexOf("Firefox/")>=0||fe())&&(a.navigationPreload=!1)})(t);var u=function(g,w){var b=Et(g,w);return b.disabled=a.group!=="B"&&a.secondaryGroup!=="B"&&!!X(),v[E]&&v[E].controller||!M()||(b.lastNavigate.responseSource=P.SDN),b}(Ot(l,n,i,r),c),p=A();if(Bt(t,p),p.noTracking||l||function(g){j(g),mt(g)}(u),xe(u.lastNavigate.responseCause)||(d=window.top!==window,location.protocol!=="https:"||!a.executeInIframe&&d))return void _(u);var d,S=v[E].controller;if(S?function(g,w,b){var I=oe();if(b.scriptURL&&!Ze(I,b))return function(N,y){return a.group==="B"||a.secondaryGroup==="B"||N.lastNavigate.group==="B"||!!X()||y}(g,w)||(g.lastNavigate.responseCause=T.OtherSwInstalled),void _(g);yt(b,g),Y("load"),O=Object.getOwnPropertyDescriptor(Document.prototype,"cookie"),O&&O.configurable&&Object.defineProperty(Document.prototype,"cookie",{configurable:!0,get:function(){return O.get.call(h)},set:function(N){O.set.call(h,N),Y()}}),function(N){v[E].addEventListener("message",function(y){var L=y.data,H=L.type,q=L.payload;if(H==="asset-response-timings"){var B=q.assetSource,xt=q.assetTTFB,Kt=q.cdnPoP,Ut=q.originTTFB,Gt=q.assetCause;N.lastNavigate.assetSource=B,N.lastNavigate.assetTTFB=xt,N.lastNavigate.originTTFB=Ut,N.lastNavigate.cdnPoP=Kt,N.lastNavigate.assetCause=Gt,j(N)}})}(g),fe()&&function(){return De()===z.reload}()&&Be();var O}(u,n,S):_(u),X())return void me().catch(function(g){return C(g,k.SNIPPET)});if(!S)return he();m=!1,Z(function(){m||(m=!0,he())}),Je(function(){setTimeout(function(){m||(m=!0,he())},1e3)});var m}})()}catch(e){C(e,k.SNIPPET)}function he(){var e=!1;Ye().catch(function(t){return!e&&C(t,k.SNIPPET),e=!0,Qe().then(function(){return Ye()})}).then(function(){return Lt(SpeedKit)}).catch(function(t){return function(n){return["The operation is insecure","A mutation operation was attempted on a database that did not allow mutations"].some(function(i){return n.indexOf(i)>-1})||n==="Rejected"}(pe(t)?t.reason.message||JSON.stringify(t.reason):t.message)?(SpeedKit.lastNavigate.responseCause=T.SkUnsupported,j(SpeedKit),me()):(!e&&C(t,k.SNIPPET),e=!0,me())}).catch(function(t){!e&&C(t,k.SNIPPET),e=!0})}function Ye(){var e=Fe(a.scope),t=new ue(e),n=window.devicePixelRatio,i=window.screen.width,r=v.userAgent,o=a.customDevice,s=o?t.set("/com.baqend.speedkit.device",{device:o,userAgent:r}):Promise.resolve();return Promise.all([t.set("/com.baqend.speedkit.config",a),t.set("/com.baqend.speedkit.screen",{dpr:n,width:i}),t.set("/com.baqend.speedkit.cookie",{origins:[[location.origin,h.cookie]]}),void 0,s]).then(function(){return t.disconnect()})}function Ht(e){}function me(){var e=new URL(a.scope||"/",location.origin).toString(),t=oe();return v[E].getRegistrations().then(function(n){return n.forEach(function(i){var r=function(o){var s=o.active||o.installing||o.waiting;if(!s)return"";var c=new URL(s.scriptURL);return c.origin+c.pathname}(i);i.scope===e&&r===t&&i.unregister()})}).catch(function(){return null}).then(function(){return Qe()})}function Qe(){return Promise.all([window.caches?caches.keys().then(function(t){var n=t.filter(function(i){return new RegExp("^"+ce(F,a.scope)+".*").test(i)});return Promise.all(n.map(function(i){return caches.delete(i)}))}):Promise.resolve(),(e=new ue(a.scope),e.clear().then(function(){return e.disconnect()}))]);var e}function Ze(e,t){var n=t.scriptURL;if(!n)return!1;if(e===n.split("?")[0])return!0;var i=new URL(n).searchParams.get("othersw");return!!i&&e===i.split("?")[0]}function $e(e){if(a[e]){if(typeof a[e]!="function")return ge(a[e]);var t=a[e];a[e]=null,Je(function(){try{var n=e==="detectDevice"?h:void 0,i=t.call(null,n);Promise.resolve(i).then(function(r){r&&typeof r=="string"&&ge(r)}).catch(function(r){C(r,k.CONFIG)})}catch(r){C(r,k.CONFIG)}})}}})(document,navigator,"serviceWorker",typeof speedKit!="undefined"?speedKit:config,"SNIPPET_LOADED");})();